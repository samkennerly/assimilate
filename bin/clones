#!/usr/bin/env ruby

puts '---- Clone repositories from GitHub ----'

require_relative '../lib/repo'

PARAMS = Repo.params('clones')
GITURL = URI.parse(PARAMS['giturl'])
FOLDER = File.expand_path(PARAMS['folder'])

PARAMS['remote'].each do |k,v|
  local = File.join(FOLDER,k)
  remote = URI.join(GITURL,v)
  Repo.echo "#{local} <- #{remote}"
  `git clone #{remote} #{local}` unless Dir.exist?(local)
end
